webpackJsonp([5],{21:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ali_host="http://2045.site",e.huawei_host="http://uimstest.2045.site"},38:function(t,e,i){var a,l;i(39),a=i(41);var o=i(42);l=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(l=a=a.default),"function"==typeof l&&(l=l.options),l.render=o.render,l.staticRenderFns=o.staticRenderFns,l._scopeId="data-v-48a9da70",t.exports=a},39:function(t,e,i){var a=i(40);"string"==typeof a&&(a=[[t.id,a,""]]);i(12)(a,{});a.locals&&(t.exports=a.locals)},40:function(t,e,i){e=t.exports=i(11)(),e.push([t.id,".login-msg[data-v-48a9da70]{padding:50px;text-align:center}.mydiv[data-v-48a9da70]{padding:50px;margin:auto;display:inline}.codeStyle[data-v-48a9da70]{color:#32adff;font-size:15}.toRight[data-v-48a9da70]{float:right;color:#fff;margin-right:25px;background:#1a75ff}",""])},41:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(19),l=i(21);e.default={computed:(0,a.mapState)({user:function(t){return t.user}}),data:function(){return{tableData:[{title:"加载中..."}],tableHeight:.8*window.innerHeight,page:1,dialogVisible:!1,information:"",loading:!0,dialog_title:"",dialog_loading:!1,dialog_width:"30%",searchText:""}},methods:{getData:function(){this.loading=!0,this.tableData=[{title:"加载中..."}];var t=l.huawei_host+":8199/api/common/oa/list";this.$http.post(t,{page:this.page,searchName:this.searchText},{emulateJSON:!0,withCredentials:!0}).then(function(t){return t.data&&t.data.data?(this.tableData=t.data.data,void(this.loading=!1)):(this.$alert(t.bodyText,"Error！",{lockScroll:!1,closeOnClickModal:!0}),this.loading=!1,void(this.tableData=[{title:"加载失败"}]))},function(t){this.$alert('请考虑将浏览器地址栏"https"替换为"http"后重试.如需帮助，请联系网站管理者.',"加载失败！",{lockScroll:!1,closeOnClickModal:!0}),this.loading=!1,this.tableData=[{title:"加载失败"}],this.dialogVisible=!1})},getNewsDetail:function(t){this.dialog_width="90%",this.dialog_title=t.title,this.information=t.detail.replace(/style[\s\S]*?=[\s\S]*?"[\s\S]*?"/g,""),this.dialog_loading=!1},getPriPage:function(){this.page<=1?(this.dialog_width="30%",this.dialog_title="提示",this.information="已经是第"+this.page+"页了哦~",this.dialogVisible=!0):(this.page--,this.getData())},getNextPage:function(){this.page>=5?(this.dialog_width="30%",this.dialog_title="提示",this.information="暂不提供"+this.page+"页及以后的内容哦~",this.dialogVisible=!0):(this.page++,this.getData())},handleClick:function(t){this.getNewsDetail(t),this.dialogVisible=!0},getTimeStr:function(t){t=t.substring(0,19),t=t.replace(/T/g," "),t=t.replace(/-/g,"/");var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+(e.getHours()+8)+":"+this.dataLeftCompleting(2,"0",e.getMinutes())},dataLeftCompleting:function(t,e,i){return i=Array(t+1).join(e)+i,i.slice(-t)}},mounted:function(){var t=this;this.getData(),window.onresize=function(){return function(){t.tableHeight=.8*window.innerHeight}()}}}},42:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-header",{attrs:{title:"校内通知"}},[i("router-link",{attrs:{slot:"left",to:"/"},slot:"left"},[t._v("首页")]),t._v(" "),t.user.id?i("router-link",{attrs:{slot:"right",to:"/home"},slot:"right"},[t._v(t._s(t.user.name))]):t._e()],1),t._v(" "),i("div",{attrs:{id:"news"}},[i("el-container",{staticStyle:{border:"1px solid #eee"}},[i("el-container",[i("el-main",[i("div",{staticClass:"mydiv"},[i("el-button",{on:{click:function(e){return t.getPriPage()}}},[t._v("上一页")]),t._v("\n                            第"+t._s(t.page)+"页\n                            "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.getNextPage()}}},[t._v("下一页")]),t._v(" "),i("el-input",{staticStyle:{width:"50%"},attrs:{type:"text",placeholder:"搜索..."},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.getData()}}},[t._v("搜 索")]),t._v(" "),i("el-popover",{attrs:{placement:"bottom",title:"如何更新信息？",width:"40%",trigger:"hover"}},[i("p",[i("b",{staticClass:"codeStyle"},[t._v("如果你在校内，你就可以更新这里的信息！")]),i("br"),t._v("\n                                    如果你使用"),i("b",{staticClass:"codeStyle"},[t._v("安卓")]),t._v("手机，并且连接校园网，"),i("br"),t._v("\n                                    可以下载并运行"),i("a",{attrs:{href:"http://2045.site/OATest-debug.apk"}},[t._v("这里")]),t._v("的APK."),i("br"),t._v(" "),i("br"),t._v("\n                                    如果你喜欢用电脑，且安装了"),i("b",{staticClass:"codeStyle"},[t._v("JAVA")]),t._v("环境："),i("br"),t._v("\n                                    首先，下载"),i("a",{attrs:{href:"http://2045.site/OATest.jar"}},[t._v("这里")]),t._v("的JAR包."),i("br"),t._v("\n                                    然后，使用命令"),i("b",{staticClass:"codeStyle"},[t._v("java -jar")]),t._v("运行刚刚下载的JAR包."),i("br"),t._v(" "),i("b",[t._v("等待程序结束，大功告成！")]),i("br"),t._v(" "),i("br"),t._v(" "),i("b",{staticClass:"codeStyle"},[t._v("若你不在校内，快告诉校内的小伙伴吧")]),t._v(" "),i("br"),t._v(" "),i("b",{staticClass:"codeStyle"},[t._v("(๑•̀ㅂ•́)و")])]),t._v(" "),i("el-button",{staticClass:"toRight",attrs:{slot:"reference"},slot:"reference"},[t._v("¿")])],1)],1),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"",height:t.tableHeight}},[i("el-table-column",{attrs:{"min-width":"400",label:"标题"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.handleClick(e.row)}}},[t._v(t._s(e.row.title))])]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"200",prop:"department",label:"部门"}}),t._v(" "),i("el-table-column",{attrs:{width:"150",label:"发布时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                                    "+t._s(t.getTimeStr(e.row.publish_time))+"\n                                ")]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"100",label:"地址"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-popover",{attrs:{trigger:"hover",placement:"top"}},[i("p",[t._v(t._s(e.row.link))]),t._v(" "),i("div",{staticStyle:{"text-align":"right",margin:"0"}},[i("el-link",{attrs:{type:"primary",href:e.row.link,target:"_blank"}},[t._v("跳转至OA查看")])],1),t._v(" "),i("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[i("el-tag",{attrs:{size:"medium"}},[t._v("OA链接")])],1)])]}}])})],1)],1)],1)],1)],1),t._v(" "),i("el-dialog",{attrs:{title:t.dialog_title,loading:t.dialog_loading,visible:t.dialogVisible,width:t.dialog_width,"dangerouslyUseHTMLString:":"",true:"","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{domProps:{innerHTML:t._s(t.information)}}),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]}}});
webpackJsonp([5],{21:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.ali_host="http://2045.site",i.huawei_host="http://uimstest.2045.site"},38:function(t,i,e){var a,l;e(39),a=e(41);var o=e(42);l=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(l=a=a.default),"function"==typeof l&&(l=l.options),l.render=o.render,l.staticRenderFns=o.staticRenderFns,l._scopeId="data-v-23b27f64",t.exports=a},39:function(t,i,e){var a=e(40);"string"==typeof a&&(a=[[t.id,a,""]]);e(12)(a,{});a.locals&&(t.exports=a.locals)},40:function(t,i,e){i=t.exports=e(11)(),i.push([t.id,".login-msg[data-v-23b27f64]{padding:50px;text-align:center}.mydiv[data-v-23b27f64]{padding:50px;margin:auto;display:inline}",""])},41:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e(19),l=e(21);i.default={computed:(0,a.mapState)({user:function(t){return t.user}}),data:function(){return{tableData:[{title:"加载中..."}],tableHeight:.8*window.innerHeight,page:1,dialogVisible:!1,information:"",loading:!0,dialog_title:"",dialog_loading:!1,dialog_width:"30%"}},methods:{getData:function(){this.loading=!0,this.tableData=[{title:"加载中..."}];var t=l.ali_host+":8099/UIMSTest/GetNewsList?page="+this.page;this.$http.get(t).then(function(t){return t.data&&t.data.value?(this.tableData=t.data.value,void(this.loading=!1)):(this.$alert(t.bodyText,"Error！",{lockScroll:!1,closeOnClickModal:!0}),this.loading=!1,void(this.tableData=[{title:"加载失败"}]))},function(t){this.$alert('请考虑将浏览器地址栏"https"替换为"http"后重试.如需帮助，请联系网站管理者.',"加载失败！",{lockScroll:!1,closeOnClickModal:!0}),this.loading=!1,this.tableData=[{title:"加载失败"}],this.dialogVisible=!1})},getNewsDetail:function(t,i){if(!i)return this.dialog_loading=!0,this.dialog_width="30%",this.dialog_title="提示",void(this.information="数据有误！ 请稍后重试或联系网站管理员.");this.dialog_loading=!0,this.dialog_width="30%",this.dialog_title="提示",this.information="加载中...";var e=l.ali_host+":8099/UIMSTest/GetNewsDetail";this.$http.post(e,{url:i},{emulateJSON:!0}).then(function(i){i.ok||(this.$alert("请稍后重试.如需帮助，请联系网站管理者.","加载失败！",{lockScroll:!1,closeOnClickModal:!0}),this.dialogVisible=!1),this.dialog_width="670px",this.dialog_title=t,this.information=i.body.resultValue.content,this.dialog_loading=!1})},getPriPage:function(){this.page<=1?(this.dialog_width="30%",this.dialog_title="提示",this.information="已经是第"+this.page+"页了哦~",this.dialogVisible=!0):(this.page--,this.getData())},getNextPage:function(){this.page>=5?(this.dialog_width="30%",this.dialog_title="提示",this.information="暂不提供"+this.page+"页及以后的内容哦~",this.dialogVisible=!0):(this.page++,this.getData())},handleClick:function(t){this.getNewsDetail(t.title,t.link),this.dialogVisible=!0}},mounted:function(){this.getData()}}},42:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("v-header",{attrs:{title:"校内通知"}},[e("router-link",{attrs:{slot:"left",to:"/"},slot:"left"},[t._v("首页")]),t._v(" "),t.user.id?e("router-link",{attrs:{slot:"right",to:"/home"},slot:"right"},[t._v(t._s(t.user.name))]):t._e()],1),t._v(" "),e("div",{attrs:{id:"news"}},[e("el-container",{staticStyle:{border:"1px solid #eee"}},[e("el-container",[e("el-main",[e("div",{staticClass:"mydiv"},[e("el-button",{on:{click:function(i){return t.getPriPage()}}},[t._v("上一页")]),t._v("\n                            第"+t._s(t.page)+"页\n                            "),e("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.getNextPage()}}},[t._v("下一页")])],1),t._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"",height:t.tableHeight}},[e("el-table-column",{attrs:{"min-width":"400",label:"标题"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleClick(i.row)}}},[t._v(t._s(i.row.title))]),t._v(" "),i.row.flagTop?e("el-tag",{attrs:{type:"success"}},[t._v("置顶")]):t._e(),t._v(" "),i.row.is_new?e("el-tag",{attrs:{type:"success",effect:"plain"}},[t._v("NEW!")]):t._e()]}}])}),t._v(" "),e("el-table-column",{attrs:{width:"200",prop:"dept",label:"部门"}}),t._v(" "),e("el-table-column",{attrs:{prop:"time",width:"150",label:"发布时间"}}),t._v(" "),e("el-table-column",{attrs:{width:"100",label:"地址"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-popover",{attrs:{trigger:"hover",placement:"top"}},[e("p",[t._v(t._s(i.row.abs_link))]),t._v(" "),e("div",{staticStyle:{"text-align":"right",margin:"0"}},[e("el-link",{attrs:{type:"primary",href:i.row.abs_link,target:"_blank"}},[t._v("跳转至OA查看")])],1),t._v(" "),e("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[e("el-tag",{attrs:{size:"medium"}},[t._v("OA链接")])],1)])]}}])})],1)],1)],1)],1)],1),t._v(" "),e("el-dialog",{attrs:{title:t.dialog_title,loading:t.dialog_loading,visible:t.dialogVisible,width:t.dialog_width,"dangerouslyUseHTMLString:":"",true:"","before-close":t.handleClose},on:{"update:visible":function(i){t.dialogVisible=i}}},[e("div",{domProps:{innerHTML:t._s(t.information)}}),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:function(i){t.dialogVisible=!1}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]}}});
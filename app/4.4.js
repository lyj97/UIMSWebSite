webpackJsonp([4],{21:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ali_host="http://2045.site",t.huawei_host="http://uimstest.2045.site"},33:function(e,t,i){var a,s;i(34),a=i(36);var n=i(37);s=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(s=a=a.default),"function"==typeof s&&(s=s.options),s.render=n.render,s.staticRenderFns=n.staticRenderFns,s._scopeId="data-v-70b48171",e.exports=a},34:function(e,t,i){var a=i(35);"string"==typeof a&&(a=[[e.id,a,""]]);i(12)(a,{});a.locals&&(e.exports=a.locals)},35:function(e,t,i){t=e.exports=i(11)(),t.push([e.id,".user-name[data-v-70b48171]{padding:5px;text-align:center;color:#09f}.information[data-v-70b48171]{padding:50px;text-align:center;margin:0 auto;width:300px}.information .line[data-v-70b48171]{padding:5px;color:blue}.information .line input[data-v-70b48171]{padding:0 10px;line-height:28px}.information button[data-v-70b48171]{padding:0 20px;margin-top:20px;line-height:28px}.box-card[data-v-70b48171]{max-width:550px;margin:80px auto}.title_tag[data-v-70b48171]{font-size:20px;font-weight:500}.mybody[data-v-70b48171]{text-align:center}",""])},36:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},s=i(19),n=i(20),o=i(21);t.default={computed:(0,s.mapState)({user:function(e){return e.user}}),data:function(){return{dialogVisible:!1,information:"确定退出吗？",userinfo:{student_id:"",user_id:"",nick_name:"",name:"",last_access_time:"",last_access_ip:"",create_time:"",type:0},pageSize:0}},methods:a({},(0,s.mapActions)([n.USER_SIGNOUT]),{submit:function(){this.dialogVisible=!1,this.USER_SIGNOUT(),this.$router.push({path:"/login"})},getData:function(){var e=o.huawei_host+":8199/api/common/oa/pageNumber";this.$http.post(e,{},{emulateJSON:!0,withCredentials:!0}).then(function(e){this.pageSize=e.data.data.page},function(e){this.$alert(e,"Error!",{lockScroll:!1,closeOnClickModal:!0})})},getUser:function(){var e=o.huawei_host+":8199/api/user/getCurrentUser";this.$http.post(e,{},{emulateJSON:!0,withCredentials:!0}).then(function(e){this.updateUser(e.bodyText)},function(e){this.$alert(e,"Error!",{lockScroll:!1,closeOnClickModal:!0})})},updateUser:function(e){this.userinfo=JSON.parse(e)},setOAPage:function(){var e=o.huawei_host+":8199/api/common/oa/setPageNumber";this.$http.post(e,{page:this.pageSize},{emulateJSON:!0,withCredentials:!0}).then(function(e){0==e.data.status?this.$message({type:"success",message:"设置成功."}):this.$message({type:"warning",message:e.data.message}),this.getData()},function(e){this.$alert(e,"Error!",{lockScroll:!1,closeOnClickModal:!0})})},flushOATime:function(){var e=o.huawei_host+":8199/api/common/oa/flushDetail";this.$http.post(e,{},{emulateJSON:!0,withCredentials:!0}).then(function(e){0==e.data.status?this.$message({type:"success",message:"刷新提交成功."}):this.$message({type:"warning",message:e.data.message}),this.getData()},function(e){this.$alert(e,"Error!",{lockScroll:!1,closeOnClickModal:!0})})}}),mounted:function(){this.getUser(),this.getData()}}},37:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mybody"},[i("v-header",{attrs:{title:"个人中心"}},[i("router-link",{attrs:{slot:"left",to:"/"},slot:"left"},[e._v("首页")]),e._v(" "),e.user.id?i("el-link",{attrs:{slot:"right"},on:{click:function(t){e.dialogVisible=!0}},slot:"right"},[e._v("退出登录")]):e._e()],1),e._v(" "),i("el-card",{staticClass:"box-card"},[i("div",[e._v("欢迎,"),i("b",{staticClass:"user-name",on:{click:function(t){return e.getUser()}}},[e._v(e._s(e.user.name))]),e._v(".")]),e._v(" "),i("form",{staticClass:"information",on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[i("div",{staticClass:"line"},[i("el-input",{attrs:{type:"number",placeholder:"学号",disabled:!0},model:{value:e.userinfo.student_id,callback:function(t){e.$set(e.userinfo,"student_id",t)},expression:"userinfo.student_id"}},[i("template",{slot:"prepend"},[e._v("学号")])],2)],1),e._v(" "),i("div",{staticClass:"line"},[i("el-input",{attrs:{type:"number",placeholder:"ID",disabled:!0},model:{value:e.userinfo.user_id,callback:function(t){e.$set(e.userinfo,"user_id",t)},expression:"userinfo.user_id"}},[i("template",{slot:"prepend"},[e._v("ID")])],2)],1),e._v(" "),i("div",{staticClass:"line"},[i("el-input",{attrs:{type:"text",placeholder:"昵称"},model:{value:e.userinfo.nick_name,callback:function(t){e.$set(e.userinfo,"nick_name",t)},expression:"userinfo.nick_name"}},[i("template",{slot:"prepend"},[e._v("昵称")])],2)],1),e._v(" "),i("div",{staticClass:"line"},[i("el-input",{attrs:{type:"text",placeholder:"姓名",disabled:!0},model:{value:e.userinfo.name,callback:function(t){e.$set(e.userinfo,"name",t)},expression:"userinfo.name"}},[i("template",{slot:"prepend"},[e._v("姓名")])],2)],1),e._v(" "),i("div",{staticClass:"line"},[i("el-input",{attrs:{type:"datetime-local",placeholder:"最近登录",disabled:!0},model:{value:e.userinfo.last_access_time,callback:function(t){e.$set(e.userinfo,"last_access_time",t)},expression:"userinfo.last_access_time"}},[i("template",{slot:"prepend"},[e._v("最近登录")])],2)],1),e._v(" "),i("div",{staticClass:"line"},[i("el-input",{attrs:{type:"text",placeholder:"登录IP",disabled:!0},model:{value:e.userinfo.last_access_ip,callback:function(t){e.$set(e.userinfo,"last_access_ip",t)},expression:"userinfo.last_access_ip"}},[i("template",{slot:"prepend"},[e._v("登录IP")])],2)],1),e._v(" "),i("div",{staticClass:"line"},[i("el-input",{attrs:{type:"datetime-local",placeholder:"创建时间",disabled:!0},model:{value:e.userinfo.create_time,callback:function(t){e.$set(e.userinfo,"create_time",t)},expression:"userinfo.create_time"}},[i("template",{slot:"prepend"},[e._v("创建时间")])],2)],1)])]),e._v(" "),1==e.userinfo.type?i("el-card",{staticClass:"box-card"},[i("el-tag",{staticClass:"title_tag"},[e._v("OA相关设置")]),e._v(" "),i("br"),i("br"),i("br"),e._v(" "),i("div",[e._v("设置OA列表获取页数")]),e._v(" "),i("br"),e._v(" "),i("el-input",{staticStyle:{width:"80%"},attrs:{type:"number",placeholder:"输入OA页数..."},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}}),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.setOAPage()}}},[e._v("确 定")]),e._v(" "),i("br"),i("br"),i("br"),e._v(" "),i("div",[e._v("刷新OA详情时间")]),e._v(" "),i("br"),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.flushOATime()}}},[e._v("刷新OA详情时间")])],1):e._e(),e._v(" "),i("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("span",[e._v(e._s(e.information))]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.submit()}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]}}});
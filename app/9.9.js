webpackJsonp([9],{21:function(t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.ali_host="http://2045.site",a.huawei_host="http://uimstest.2045.site"},58:function(t,a,i){var e,l;i(59),e=i(61);var d=i(62);l=e=e||{},"object"!=typeof e.default&&"function"!=typeof e.default||(l=e=e.default),"function"==typeof l&&(l=l.options),l.render=d.render,l.staticRenderFns=d.staticRenderFns,l._scopeId="data-v-4911a422",t.exports=e},59:function(t,a,i){var e=i(60);"string"==typeof e&&(e=[[t.id,e,""]]);i(12)(e,{});e.locals&&(t.exports=e.locals)},60:function(t,a,i){a=t.exports=i(11)(),a.push([t.id,".input_title[data-v-4911a422]{width:10%}.input_area[data-v-4911a422]{width:100%}.myMainDiv[data-v-4911a422]{width:100%;margin:auto;text-align:center}.myBottomDiv[data-v-4911a422]{width:100%;position:absolute;text-align:center;bottom:0}",""])},61:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=i(19),l=i(21);a.default={data:function(){return{tableData:[{title:"加载中..."}],tableHeight:.7*window.innerHeight,loading:!0,current_inf:{code:0,name:"",beta:!1,create_time:"",update_time:"",link_text:"",link:""},dialogVisible_add:!1,dialog_title_add:"添加版本信息",dialog_loading_add:!1,dialog_width_add:"80%",dialogVerCodeLocked:!1,dialog_add_inf_code:0,dialog_add_inf_name:"",dialog_add_inf_beta:!1,dialog_add_inf_create_time:"",dialog_add_inf_update_time:"",dialog_add_inf_link_text:"",dialog_add_inf_link:"",dialog_add_inf_bool_options:[{value:!1,label:"否"},{value:!0,label:"是"}]}},computed:(0,e.mapState)({user:function(t){return t.user}}),methods:{getData:function(){this.loading=!0,this.tableData=[{title:"加载中..."}];var t=l.huawei_host+":8199/api/version/all_version";this.$http.post(t,{},{emulateJSON:!0,withCredentials:!0}).then(function(t){this.tableData=t.data.data,this.loading=!1},function(t){this.loading=!1,this.$alert(t,"Error!",{lockScroll:!1,closeOnClickModal:!0})});var a=l.huawei_host+":8199/api/version/get_version";this.$http.post(a,{},{emulateJSON:!0,withCredentials:!0}).then(function(t){return 0!=t.body.status?void this.$message({type:"error",message:t.body.message}):void(this.current_inf=t.body.data)},function(t){this.$alert(t,"Error!",{lockScroll:!1,closeOnClickModal:!0})})},postAddWebsite:function(){this.dialog_loading_add=!0;var t=l.huawei_host+":8199/api/version/set_version";this.$http.post(t,{versionCode:this.dialog_add_inf_code,versionName:this.dialog_add_inf_name,isBeta:this.dialog_add_inf_beta,linkText:this.dialog_add_inf_link_text,link:this.dialog_add_inf_link},{emulateJSON:!0,withCredentials:!0}).then(function(t){return this.dialog_loading_add=!1,0!=t.body.status?void this.$message({type:"error",message:t.body.message}):(this.$message({type:"success",message:t.body.message}),this.dialogVisible_add=!1,void this.getData())},function(t){this.dialog_loading_add=!1,this.$alert(t,"Error!",{lockScroll:!1,closeOnClickModal:!0})})},handleClick:function(t){this.showAddDialog(),this.initDialogInformation(t)},showAddDialog:function(){this.dialogVisible_add=!0,this.dialogVerCodeLocked=!1},initDialogInformation:function(t){this.dialogVerCodeLocked=!0,this.dialog_add_inf_code=t.code,this.dialog_add_inf_name=t.name,this.dialog_add_inf_beta=t.is_beta,this.dialog_add_inf_create_time=t.create_time,this.dialog_add_inf_update_time=t.update_time,this.dialog_add_inf_link_text=t.link_text,this.dialog_add_inf_link=t.link},resetAddData:function(){this.dialog_add_inf_code=0,this.dialog_add_inf_name="",this.dialog_add_inf_beta=!1,this.dialog_add_inf_create_time="",this.dialog_add_inf_update_time="",this.dialog_add_inf_link_text="",this.dialog_add_inf_link=""}},mounted:function(){var t=this;this.getData(),window.onresize=function(){return function(){t.tableHeight=.7*window.innerHeight}()}}}},62:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("v-header",{attrs:{title:"版本管理"}},[i("router-link",{attrs:{slot:"left",to:"/"},slot:"left"},[t._v("首页")]),t._v(" "),t.user.id?i("router-link",{attrs:{slot:"right",to:"/home"},slot:"right"},[t._v(t._s(t.user.name))]):t._e()],1),t._v(" "),i("div",{staticClass:"myMainDiv"},[i("br"),t._v(" "),i("el-tag",{attrs:{type:"success"}},[t._v("当前版本")]),t._v(" "),t.current_inf?i("div",[t._v("\n                版本号:"+t._s(t.current_inf.code)+" 名称:"+t._s(t.current_inf.name)+" 类型:"),t.current_inf.is_beta?i("el-tag",{attrs:{type:"warning"}},[t._v("测试版")]):t._e(),t.current_inf.is_beta?t._e():i("el-tag",{attrs:{type:"success"}},[t._v("稳定版")]),t._v(" 创建时间:"+t._s(t.current_inf.create_time)+" 更新时间:"+t._s(t.current_inf.update_time)+" 链接文字:"+t._s(t.current_inf.link_text)+" 链接地址:"+t._s(t.current_inf.link)+" \n            ")],1):t._e(),t._v(" "),t.current_inf?t._e():i("div",[t._v("\n                暂无信息\n            ")]),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"",height:t.tableHeight}},[i("el-table-column",{attrs:{prop:"code",label:"Code"}}),t._v(" "),i("el-table-column",{attrs:{prop:"name",label:"Name"}}),t._v(" "),i("el-table-column",{attrs:{prop:"is_beta",label:"Beta"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.is_beta?i("el-tag",{attrs:{type:"warning"}},[t._v("测试版")]):t._e(),t._v(" "),a.row.is_beta?t._e():i("el-tag",{attrs:{type:"success"}},[t._v("稳定版")])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"create_time",label:"创建时间"}}),t._v(" "),i("el-table-column",{attrs:{prop:"update_time",label:"更新时间"}}),t._v(" "),i("el-table-column",{attrs:{prop:"link_text",label:"LinkText"}}),t._v(" "),i("el-table-column",{attrs:{prop:"link",label:"Link"}}),t._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(a){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.handleClick(a.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),i("div",{staticClass:"myBottomDiv"},[i("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(a){return t.showAddDialog()}}},[t._v("添 加 版 本 信 息")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:t.dialog_title_add,loading:t.dialog_loading_add,visible:t.dialogVisible_add,width:t.dialog_width_add},on:{"update:visible":function(a){t.dialogVisible_add=a}}},[i("a",{staticClass:"input_title"},[t._v("版本号")]),t._v(" "),i("el-input",{staticClass:"input_area",attrs:{placeholder:"请输入版本号...",disabled:this.dialogVerCodeLocked},model:{value:t.dialog_add_inf_code,callback:function(a){t.dialog_add_inf_code=a},expression:"dialog_add_inf_code"}}),t._v(" "),i("a",{staticClass:"input_title"},[t._v("版本名称")]),t._v(" "),i("el-input",{staticClass:"input_area",attrs:{placeholder:"请输入版本名称..."},model:{value:t.dialog_add_inf_name,callback:function(a){t.dialog_add_inf_name=a},expression:"dialog_add_inf_name"}}),t._v(" "),i("a",{staticClass:"input_title"},[t._v("是否测试版")]),t._v(" "),i("el-select",{staticClass:"input_area",attrs:{placeholder:"请选择"},model:{value:t.dialog_add_inf_beta,callback:function(a){t.dialog_add_inf_beta=a},expression:"dialog_add_inf_beta"}},t._l(t.dialog_add_inf_bool_options,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),i("a",{staticClass:"input_title"},[t._v("创建时间")]),t._v(" "),i("el-input",{staticClass:"input_area",attrs:{type:"datetime-local",placeholder:"创建时间",disabled:!0},model:{value:t.dialog_add_inf_create_time,callback:function(a){t.dialog_add_inf_create_time=a},expression:"dialog_add_inf_create_time"}}),t._v(" "),i("a",{staticClass:"input_title"},[t._v("更新时间")]),t._v(" "),i("el-input",{staticClass:"input_area",attrs:{type:"datetime-local",placeholder:"更新时间",disabled:!0},model:{value:t.dialog_add_inf_update_time,callback:function(a){t.dialog_add_inf_update_time=a},expression:"dialog_add_inf_update_time"}}),t._v(" "),i("a",{staticClass:"input_title"},[t._v("网站链接")]),t._v(" "),i("el-input",{staticClass:"input_area",attrs:{placeholder:"请输入网站链接..."},model:{value:t.dialog_add_inf_link_text,callback:function(a){t.dialog_add_inf_link_text=a},expression:"dialog_add_inf_link_text"}}),t._v(" "),i("a",{staticClass:"input_title"},[t._v("网站链接")]),t._v(" "),i("el-input",{staticClass:"input_area",attrs:{placeholder:"请输入网站链接..."},model:{value:t.dialog_add_inf_link,callback:function(a){t.dialog_add_inf_link=a},expression:"dialog_add_inf_link"}}),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"danger"},on:{click:function(a){return t.resetAddData()}}},[t._v("重 置")]),t._v(" "),i("el-button",{on:{click:function(a){t.dialogVisible_add=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.postAddWebsite()}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}}});